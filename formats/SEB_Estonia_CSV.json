{
  "name": "SEB Estonia CSV",
  "description": "Format for SEB Estonia CSV exports",
  "fileType": "csv",
  "csvSettings": {
    "delimiter": ";",
    "hasHeader": true,
    "encoding": "utf-8",
    "skipEmptyLines": true,
    "skipRows": 0
  },
  "fieldMappings": [
    {
      "targetField": "accountNumber",
      "sourceType": "column",
      "sourceColumn": "Kliendi konto",
      "required": false
    },
    {
      "targetField": "date",
      "sourceType": "column",
      "sourceColumn": "Kuupäev",
      "required": true,
      "transform": {
        "type": "date",
        "dateFormat": "dd.MM.yyyy"
      }
    },
    {
      "targetField": "payeeAccountNumber",
      "sourceType": "column",
      "sourceColumn": "Saaja/maksja konto",
      "required": false
    },
    {
      "targetField": "description",
      "sourceType": "column",
      "sourceColumn": "Selgitus",
      "required": true
    },
    {
      "targetField": "amount",
      "sourceType": "column",
      "sourceColumn": "Summa",
      "required": true,
      "transform": {
        "type": "number",
        "decimalSeparator": ",",
        "thousandsSeparator": ""
      }
    },
    {
      "targetField": "currency",
      "sourceType": "column",
      "sourceColumn": "Valuuta",
      "required": true
    },
    {
      "targetField": "type",
      "sourceType": "column",
      "sourceColumn": "Deebet/Kreedit (D/C)",
      "required": true,
      "transform": {
        "type": "debitCredit",
        "debitValue": "D",
        "creditValue": "C"
      }
    },
    {
      "targetField": "transactionType",
      "sourceType": "column",
      "sourceColumn": "Tüüp",
      "required": false
    },
    {
      "targetField": "archiveId",
      "sourceType": "column",
      "sourceColumn": "Arhiveerimistunnus",
      "required": true
    },
    {
      "targetField": "ignore",
      "sourceType": "column",
      "sourceColumn": "Dokumendi number",
      "required": false
    },
    {
      "targetField": "payee",
      "sourceType": "column",
      "sourceColumn": "Saaja/maksja nimi",
      "required": true,
      "defaultValue": "n/a"
    },
    {
      "targetField": "ignore",
      "sourceType": "column",
      "sourceColumn": "Saaja panga kood",
      "required": false
    },
    {
      "targetField": "ignore",
      "sourceType": "column",
      "sourceColumn": "Viitenumber",
      "required": false
    },
    {
      "targetField": "fee",
      "sourceType": "column",
      "sourceColumn": "Teenustasu",
      "transform": {
        "type": "number",
        "decimalSeparator": ",",
        "thousandsSeparator": "."
      },
      "required": false
    },
    {
      "targetField": "ignore",
      "sourceType": "column",
      "sourceColumn": "Isikukood või registrikood ",
      "required": false
    }
  ],
  "detectionPattern": {
    "headerPattern": [
      "Kliendi konto",
      "Dokumendi number",
      "Kuupäev",
      "Saaja/maksja konto",
      "Saaja/maksja nimi",
      "Saaja panga kood",
      "Tüüp",
      "Deebet/Kreedit (D/C)",
      "Summa",
      "Viitenumber",
      "Arhiveerimistunnus",
      "Selgitus",
      "Teenustasu",
      "Valuuta",
      "Isikukood või registrikood"
    ],
    "fileNamePattern": ".*\\.csv$"
  }
}